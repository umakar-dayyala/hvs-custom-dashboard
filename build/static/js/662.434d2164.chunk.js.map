{"version":3,"file":"static/js/662.434d2164.chunk.js","mappings":"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","sources":["../node_modules/d3-hierarchy/src/hierarchy/count.js","../node_modules/d3-hierarchy/src/hierarchy/index.js","../node_modules/d3-hierarchy/src/treemap/round.js","../node_modules/d3-hierarchy/src/partition.js","../node_modules/d3-hierarchy/src/treemap/dice.js","../node_modules/d3-hierarchy/src/hierarchy/each.js","../node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","../node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","../node_modules/d3-hierarchy/src/hierarchy/sum.js","../node_modules/d3-hierarchy/src/hierarchy/sort.js","../node_modules/d3-hierarchy/src/hierarchy/path.js","../node_modules/d3-hierarchy/src/hierarchy/ancestors.js","../node_modules/d3-hierarchy/src/hierarchy/descendants.js","../node_modules/d3-hierarchy/src/hierarchy/leaves.js","../node_modules/d3-hierarchy/src/hierarchy/links.js","../node_modules/lodash-es/isObject.js","../node_modules/lodash-es/_freeGlobal.js","../node_modules/lodash-es/_root.js","../node_modules/lodash-es/now.js","../node_modules/lodash-es/_trimmedEndIndex.js","../node_modules/lodash-es/_baseTrim.js","../node_modules/lodash-es/_Symbol.js","../node_modules/lodash-es/_getRawTag.js","../node_modules/lodash-es/_objectToString.js","../node_modules/lodash-es/_baseGetTag.js","../node_modules/lodash-es/isObjectLike.js","../node_modules/lodash-es/isSymbol.js","../node_modules/lodash-es/toNumber.js","../node_modules/lodash-es/debounce.js","../node_modules/kapsule/dist/kapsule.mjs","../node_modules/accessor-fn/dist/accessor-fn.mjs","../node_modules/preact/src/util.js","../node_modules/preact/src/options.js","../node_modules/preact/src/create-element.js","../node_modules/preact/src/component.js","../node_modules/preact/src/diff/props.js","../node_modules/preact/src/constants.js","../node_modules/preact/src/diff/children.js","../node_modules/preact/src/diff/index.js","../node_modules/preact/src/render.js","../node_modules/preact/src/clone-element.js","../node_modules/float-tooltip/dist/float-tooltip.mjs","../node_modules/preact/src/diff/catch-error.js","../node_modules/sunburst-chart/dist/sunburst-chart.mjs","../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"],"sourcesContent":["function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\n\nexport default function hierarchy(data, children) {\n  var root = new Node(data),\n      valued = +data.value && (root.value = data.value),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  if (children == null) children = defaultChildren;\n\n  while (node = nodes.pop()) {\n    if (valued) node.value = +node.data.value;\n    if ((childs = children(node.data)) && (n = childs.length)) {\n      node.children = new Array(n);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction defaultChildren(d) {\n  return d.children;\n}\n\nfunction copyData(node) {\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy\n};\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","export default function(callback) {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      callback(node), children = node.children;\n      if (children) for (i = 0, n = children.length; i < n; ++i) {\n        next.push(children[i]);\n      }\n    }\n  } while (next.length);\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], next = [], children, i, n;\n  while (node = nodes.pop()) {\n    next.push(node), children = node.children;\n    if (children) for (i = 0, n = children.length; i < n; ++i) {\n      nodes.push(children[i]);\n    }\n  }\n  while (node = next.pop()) {\n    callback(node);\n  }\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], children, i;\n  while (node = nodes.pop()) {\n    callback(node), children = node.children;\n    if (children) for (i = children.length - 1; i >= 0; --i) {\n      nodes.push(children[i]);\n    }\n  }\n  return this;\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  var nodes = [];\n  this.each(function(node) {\n    nodes.push(node);\n  });\n  return nodes;\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nexport default now;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nexport default trimmedEndIndex;\n","import trimmedEndIndex from './_trimmedEndIndex.js';\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nexport default baseTrim;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","import baseTrim from './_baseTrim.js';\nimport isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","import debounce from 'lodash-es/debounce.js';\n\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nfunction _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nfunction _createClass(e, r, t) {\n  return Object.defineProperty(e, \"prototype\", {\n    writable: false\n  }), e;\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = true,\n      o = false;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) ; else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = true, n = r;\n    } finally {\n      try {\n        if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\n\nvar Prop = /*#__PURE__*/_createClass(function Prop(name, _ref) {\n  var _ref$default = _ref[\"default\"],\n    defaultVal = _ref$default === void 0 ? null : _ref$default,\n    _ref$triggerUpdate = _ref.triggerUpdate,\n    triggerUpdate = _ref$triggerUpdate === void 0 ? true : _ref$triggerUpdate,\n    _ref$onChange = _ref.onChange,\n    onChange = _ref$onChange === void 0 ? function (newVal, state) {} : _ref$onChange;\n  _classCallCheck(this, Prop);\n  this.name = name;\n  this.defaultVal = defaultVal;\n  this.triggerUpdate = triggerUpdate;\n  this.onChange = onChange;\n});\nfunction index (_ref2) {\n  var _ref2$stateInit = _ref2.stateInit,\n    stateInit = _ref2$stateInit === void 0 ? function () {\n      return {};\n    } : _ref2$stateInit,\n    _ref2$props = _ref2.props,\n    rawProps = _ref2$props === void 0 ? {} : _ref2$props,\n    _ref2$methods = _ref2.methods,\n    methods = _ref2$methods === void 0 ? {} : _ref2$methods,\n    _ref2$aliases = _ref2.aliases,\n    aliases = _ref2$aliases === void 0 ? {} : _ref2$aliases,\n    _ref2$init = _ref2.init,\n    initFn = _ref2$init === void 0 ? function () {} : _ref2$init,\n    _ref2$update = _ref2.update,\n    updateFn = _ref2$update === void 0 ? function () {} : _ref2$update;\n  // Parse props into Prop instances\n  var props = Object.keys(rawProps).map(function (propName) {\n    return new Prop(propName, rawProps[propName]);\n  });\n  return function KapsuleComp() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    var classMode = !!(this instanceof KapsuleComp ? this.constructor : void 0);\n    var nodeElement = classMode ? args.shift() : undefined;\n    var _args$ = args[0],\n      options = _args$ === void 0 ? {} : _args$;\n\n    // Holds component state\n    var state = Object.assign({}, stateInit instanceof Function ? stateInit(options) : stateInit,\n    // Support plain objects for backwards compatibility\n    {\n      initialised: false\n    });\n\n    // keeps track of which props triggered an update\n    var changedProps = {};\n\n    // Component constructor\n    function comp(nodeElement) {\n      initStatic(nodeElement, options);\n      digest();\n      return comp;\n    }\n    var initStatic = function initStatic(nodeElement, options) {\n      initFn.call(comp, nodeElement, state, options);\n      state.initialised = true;\n    };\n    var digest = debounce(function () {\n      if (!state.initialised) {\n        return;\n      }\n      updateFn.call(comp, state, changedProps);\n      changedProps = {};\n    }, 1);\n\n    // Getter/setter methods\n    props.forEach(function (prop) {\n      comp[prop.name] = getSetProp(prop);\n      function getSetProp(_ref3) {\n        var prop = _ref3.name,\n          _ref3$triggerUpdate = _ref3.triggerUpdate,\n          redigest = _ref3$triggerUpdate === void 0 ? false : _ref3$triggerUpdate,\n          _ref3$onChange = _ref3.onChange,\n          onChange = _ref3$onChange === void 0 ? function (newVal, state) {} : _ref3$onChange,\n          _ref3$defaultVal = _ref3.defaultVal,\n          defaultVal = _ref3$defaultVal === void 0 ? null : _ref3$defaultVal;\n        return function (_) {\n          var curVal = state[prop];\n          if (!arguments.length) {\n            return curVal;\n          } // Getter mode\n\n          var val = _ === undefined ? defaultVal : _; // pick default if value passed is undefined\n          state[prop] = val;\n          onChange.call(comp, val, state, curVal);\n\n          // track changed props\n          !changedProps.hasOwnProperty(prop) && (changedProps[prop] = curVal);\n          if (redigest) {\n            digest();\n          }\n          return comp;\n        };\n      }\n    });\n\n    // Other methods\n    Object.keys(methods).forEach(function (methodName) {\n      comp[methodName] = function () {\n        var _methods$methodName;\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        return (_methods$methodName = methods[methodName]).call.apply(_methods$methodName, [comp, state].concat(args));\n      };\n    });\n\n    // Link aliases\n    Object.entries(aliases).forEach(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n        alias = _ref5[0],\n        target = _ref5[1];\n      return comp[alias] = comp[target];\n    });\n\n    // Reset all component props to their default value\n    comp.resetProps = function () {\n      props.forEach(function (prop) {\n        comp[prop.name](prop.defaultVal);\n      });\n      return comp;\n    };\n\n    //\n\n    comp.resetProps(); // Apply all prop defaults\n    state._rerender = digest; // Expose digest method\n\n    classMode && nodeElement && comp(nodeElement);\n    return comp;\n  };\n}\n\nexport { index as default };\n","var index = (function (p) {\n  return typeof p === 'function' ? p // fn\n  : typeof p === 'string' ? function (obj) {\n    return obj[p];\n  } // property name\n  : function (obj) {\n    return p;\n  };\n}); // constant\n\nexport { index as default };\n","import { EMPTY_ARR } from './constants';\n\nexport const isArray = Array.isArray;\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-expect-error We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {import('./index').ContainerNode} node The node to remove\n */\nexport function removeNode(node) {\n\tif (node && node.parentNode) node.parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { slice } from './util';\nimport options from './options';\nimport { NULL, UNDEFINED } from './constants';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor for this\n * virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the\n * virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != NULL) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === UNDEFINED) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, NULL);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\t/** @type {import('./internal').VNode} */\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: NULL,\n\t\t_parent: NULL,\n\t\t_depth: 0,\n\t\t_dom: NULL,\n\t\t_component: NULL,\n\t\tconstructor: UNDEFINED,\n\t\t_original: original == NULL ? ++vnodeId : original,\n\t\t_index: -1,\n\t\t_flags: 0\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == NULL && options.vnode != NULL) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: NULL };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != NULL && vnode.constructor == UNDEFINED;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\nimport { MODE_HYDRATE, NULL } from './constants';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function BaseComponent(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nBaseComponent.prototype.setState = function (update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != NULL && this._nextState != this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == NULL) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nBaseComponent.prototype.forceUpdate = function (callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](https://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {ComponentChildren | void}\n */\nBaseComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == NULL) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._index + 1)\n\t\t\t: NULL;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != NULL && sibling._dom != NULL) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : NULL;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet oldVNode = component._vnode,\n\t\toldDom = oldVNode._dom,\n\t\tcommitQueue = [],\n\t\trefQueue = [];\n\n\tif (component._parentDom) {\n\t\tconst newVNode = assign({}, oldVNode);\n\t\tnewVNode._original = oldVNode._original + 1;\n\t\tif (options.vnode) options.vnode(newVNode);\n\n\t\tdiff(\n\t\t\tcomponent._parentDom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tcomponent._parentDom.namespaceURI,\n\t\t\toldVNode._flags & MODE_HYDRATE ? [oldDom] : NULL,\n\t\t\tcommitQueue,\n\t\t\toldDom == NULL ? getDomSibling(oldVNode) : oldDom,\n\t\t\t!!(oldVNode._flags & MODE_HYDRATE),\n\t\t\trefQueue\n\t\t);\n\n\t\tnewVNode._original = oldVNode._original;\n\t\tnewVNode._parent._children[newVNode._index] = newVNode;\n\t\tcommitRoot(commitQueue, newVNode, refQueue);\n\n\t\tif (newVNode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(newVNode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != NULL && vnode._component != NULL) {\n\t\tvnode._dom = vnode._component.base = NULL;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != NULL && child._dom != NULL) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce != options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/**\n * @param {import('./internal').Component} a\n * @param {import('./internal').Component} b\n */\nconst depthSort = (a, b) => a._vnode._depth - b._vnode._depth;\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet c,\n\t\tl = 1;\n\n\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t// process() calls from getting scheduled while `queue` is still being consumed.\n\twhile (rerenderQueue.length) {\n\t\t// Keep the rerender queue sorted by (depth, insertion order). The queue\n\t\t// will initially be sorted on the first iteration only if it has more than 1 item.\n\t\t//\n\t\t// New items can be added to the queue e.g. when rerendering a provider, so we want to\n\t\t// keep the order from top to bottom with those new items so we can handle them in a\n\t\t// single pass\n\t\tif (rerenderQueue.length > l) {\n\t\t\trerenderQueue.sort(depthSort);\n\t\t}\n\n\t\tc = rerenderQueue.shift();\n\t\tl = rerenderQueue.length;\n\n\t\tif (c._dirty) {\n\t\t\trenderComponent(c);\n\t\t}\n\t}\n\tprocess._rerenderCount = 0;\n}\n\nprocess._rerenderCount = 0;\n","import { IS_NON_DIMENSIONAL, NULL, SVG_NAMESPACE } from '../constants';\nimport options from '../options';\n\nfunction setStyle(style, key, value) {\n\tif (key[0] == '-') {\n\t\tstyle.setProperty(key, value == NULL ? '' : value);\n\t} else if (value == NULL) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\nconst CAPTURE_REGEX = /(PointerCapture)$|Capture$/i;\n\n// A logical clock to solve issues like https://github.com/preactjs/preact/issues/3927.\n// When the DOM performs an event it leaves micro-ticks in between bubbling up which means that\n// an event can trigger on a newly reated DOM-node while the event bubbles up.\n//\n// Originally inspired by Vue\n// (https://github.com/vuejs/core/blob/caeb8a68811a1b0f79/packages/runtime-dom/src/modules/events.ts#L90-L101),\n// but modified to use a logical clock instead of Date.now() in case event handlers get attached\n// and events get dispatched during the same millisecond.\n//\n// The clock is incremented after each new event dispatch. This allows 1 000 000 new events\n// per second for over 280 years before the value reaches Number.MAX_SAFE_INTEGER (2**53 - 1).\nlet eventClock = 0;\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {string} namespace Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, namespace) {\n\tlet useCapture;\n\n\to: if (name == 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] != oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] == 'o' && name[1] == 'n') {\n\t\tuseCapture = name != (name = name.replace(CAPTURE_REGEX, '$1'));\n\t\tconst lowerCaseName = name.toLowerCase();\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (lowerCaseName in dom || name == 'onFocusOut' || name == 'onFocusIn')\n\t\t\tname = lowerCaseName.slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tvalue._attached = eventClock;\n\t\t\t\tdom.addEventListener(\n\t\t\t\t\tname,\n\t\t\t\t\tuseCapture ? eventProxyCapture : eventProxy,\n\t\t\t\t\tuseCapture\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tvalue._attached = oldValue._attached;\n\t\t\t}\n\t\t} else {\n\t\t\tdom.removeEventListener(\n\t\t\t\tname,\n\t\t\t\tuseCapture ? eventProxyCapture : eventProxy,\n\t\t\t\tuseCapture\n\t\t\t);\n\t\t}\n\t} else {\n\t\tif (namespace == SVG_NAMESPACE) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname != 'width' &&\n\t\t\tname != 'height' &&\n\t\t\tname != 'href' &&\n\t\t\tname != 'list' &&\n\t\t\tname != 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname != 'tabIndex' &&\n\t\t\tname != 'download' &&\n\t\t\tname != 'rowSpan' &&\n\t\t\tname != 'colSpan' &&\n\t\t\tname != 'role' &&\n\t\t\tname != 'popover' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == NULL ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// aria- and data- attributes have no boolean representation.\n\t\t// A `false` value is different from the attribute not being\n\t\t// present, so we can't remove it. For non-boolean aria\n\t\t// attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost too many bytes. On top of\n\t\t// that other frameworks generally stringify `false`.\n\n\t\tif (typeof value == 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != NULL && (value !== false || name[4] == '-')) {\n\t\t\tdom.setAttribute(name, name == 'popover' && value == true ? '' : value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Create an event proxy function.\n * @param {boolean} useCapture Is the event handler for the capture phase.\n * @private\n */\nfunction createEventProxy(useCapture) {\n\t/**\n\t * Proxy an event to hooked event handlers\n\t * @param {import('../internal').PreactEvent} e The event object from the browser\n\t * @private\n\t */\n\treturn function (e) {\n\t\tif (this._listeners) {\n\t\t\tconst eventHandler = this._listeners[e.type + useCapture];\n\t\t\tif (e._dispatched == NULL) {\n\t\t\t\te._dispatched = eventClock++;\n\n\t\t\t\t// When `e._dispatched` is smaller than the time when the targeted event\n\t\t\t\t// handler was attached we know we have bubbled up to an element that was added\n\t\t\t\t// during patching the DOM.\n\t\t\t} else if (e._dispatched < eventHandler._attached) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn eventHandler(options.event ? options.event(e) : e);\n\t\t}\n\t};\n}\n\nconst eventProxy = createEventProxy(false);\nconst eventProxyCapture = createEventProxy(true);\n","/** Normal hydration that attaches to a DOM tree but does not diff it. */\nexport const MODE_HYDRATE = 1 << 5;\n/** Signifies this VNode suspended on the previous render */\nexport const MODE_SUSPENDED = 1 << 7;\n/** Indicates that this node needs to be inserted while patching children */\nexport const INSERT_VNODE = 1 << 2;\n/** Indicates a VNode has been matched with another VNode in the diff */\nexport const MATCHED = 1 << 1;\n\n/** Reset all mode flags */\nexport const RESET_MODE = ~(MODE_HYDRATE | MODE_SUSPENDED);\n\nexport const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\nexport const XHTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\nexport const MATH_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n\nexport const NULL = null;\nexport const UNDEFINED = undefined;\nexport const EMPTY_OBJ = /** @type {any} */ ({});\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL =\n\t/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport {\n\tEMPTY_OBJ,\n\tEMPTY_ARR,\n\tINSERT_VNODE,\n\tMATCHED,\n\tUNDEFINED,\n\tNULL\n} from '../constants';\nimport { isArray } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * @typedef {import('../internal').ComponentChildren} ComponentChildren\n * @typedef {import('../internal').Component} Component\n * @typedef {import('../internal').PreactElement} PreactElement\n * @typedef {import('../internal').VNode} VNode\n */\n\n/**\n * Diff the children of a virtual node\n * @param {PreactElement} parentDom The DOM element whose children are being\n * diffed\n * @param {ComponentChildren[]} renderResult\n * @param {VNode} newParentVNode The new virtual node whose children should be\n * diff'ed against oldParentVNode\n * @param {VNode} oldParentVNode The old virtual node whose children should be\n * diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by\n * getChildContext\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {PreactElement} oldDom The current attached DOM element any new dom\n * elements should be placed around. Likely `null` on first render (except when\n * hydrating). Can be a sibling DOM element when diffing Fragments that have\n * siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\tlet i,\n\t\t/** @type {VNode} */\n\t\toldVNode,\n\t\t/** @type {VNode} */\n\t\tchildVNode,\n\t\t/** @type {PreactElement} */\n\t\tnewDom,\n\t\t/** @type {PreactElement} */\n\t\tfirstChildDom;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\t/** @type {VNode[]} */\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet newChildrenLength = renderResult.length;\n\n\toldDom = constructNewChildrenArray(\n\t\tnewParentVNode,\n\t\trenderResult,\n\t\toldChildren,\n\t\toldDom,\n\t\tnewChildrenLength\n\t);\n\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\tchildVNode = newParentVNode._children[i];\n\t\tif (childVNode == NULL) continue;\n\n\t\t// At this point, constructNewChildrenArray has assigned _index to be the\n\t\t// matchingIndex for this VNode's oldVNode (or -1 if there is no oldVNode).\n\t\tif (childVNode._index == -1) {\n\t\t\toldVNode = EMPTY_OBJ;\n\t\t} else {\n\t\t\toldVNode = oldChildren[childVNode._index] || EMPTY_OBJ;\n\t\t}\n\n\t\t// Update childVNode._index to its final index\n\t\tchildVNode._index = i;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tlet result = diff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tnamespace,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\n\t\t// Adjust DOM nodes\n\t\tnewDom = childVNode._dom;\n\t\tif (childVNode.ref && oldVNode.ref != childVNode.ref) {\n\t\t\tif (oldVNode.ref) {\n\t\t\t\tapplyRef(oldVNode.ref, NULL, childVNode);\n\t\t\t}\n\t\t\trefQueue.push(\n\t\t\t\tchildVNode.ref,\n\t\t\t\tchildVNode._component || newDom,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t}\n\n\t\tif (firstChildDom == NULL && newDom != NULL) {\n\t\t\tfirstChildDom = newDom;\n\t\t}\n\n\t\tif (\n\t\t\tchildVNode._flags & INSERT_VNODE ||\n\t\t\toldVNode._children === childVNode._children\n\t\t) {\n\t\t\toldDom = insert(childVNode, oldDom, parentDom);\n\t\t} else if (typeof childVNode.type == 'function' && result !== UNDEFINED) {\n\t\t\toldDom = result;\n\t\t} else if (newDom) {\n\t\t\toldDom = newDom.nextSibling;\n\t\t}\n\n\t\t// Unset diffing flags\n\t\tchildVNode._flags &= ~(INSERT_VNODE | MATCHED);\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\treturn oldDom;\n}\n\n/**\n * @param {VNode} newParentVNode\n * @param {ComponentChildren[]} renderResult\n * @param {VNode[]} oldChildren\n */\nfunction constructNewChildrenArray(\n\tnewParentVNode,\n\trenderResult,\n\toldChildren,\n\toldDom,\n\tnewChildrenLength\n) {\n\t/** @type {number} */\n\tlet i;\n\t/** @type {VNode} */\n\tlet childVNode;\n\t/** @type {VNode} */\n\tlet oldVNode;\n\n\tlet oldChildrenLength = oldChildren.length,\n\t\tremainingOldChildren = oldChildrenLength;\n\n\tlet skew = 0;\n\n\tnewParentVNode._children = new Array(newChildrenLength);\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\t// @ts-expect-error We are reusing the childVNode variable to hold both the\n\t\t// pre and post normalized childVNode\n\t\tchildVNode = renderResult[i];\n\n\t\tif (\n\t\t\tchildVNode == NULL ||\n\t\t\ttypeof childVNode == 'boolean' ||\n\t\t\ttypeof childVNode == 'function'\n\t\t) {\n\t\t\tnewParentVNode._children[i] = NULL;\n\t\t\tcontinue;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint' ||\n\t\t\tchildVNode.constructor == String\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tNULL,\n\t\t\t\tchildVNode,\n\t\t\t\tNULL,\n\t\t\t\tNULL,\n\t\t\t\tNULL\n\t\t\t);\n\t\t} else if (isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tNULL,\n\t\t\t\tNULL,\n\t\t\t\tNULL\n\t\t\t);\n\t\t} else if (childVNode.constructor == UNDEFINED && childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : NULL,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\tconst skewedIndex = i + skew;\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Temporarily store the matchingIndex on the _index property so we can pull\n\t\t// out the oldVNode in diffChildren. We'll override this to the VNode's\n\t\t// final index after using this property to get the oldVNode\n\t\tconst matchingIndex = (childVNode._index = findMatchingIndex(\n\t\t\tchildVNode,\n\t\t\toldChildren,\n\t\t\tskewedIndex,\n\t\t\tremainingOldChildren\n\t\t));\n\n\t\toldVNode = NULL;\n\t\tif (matchingIndex != -1) {\n\t\t\toldVNode = oldChildren[matchingIndex];\n\t\t\tremainingOldChildren--;\n\t\t\tif (oldVNode) {\n\t\t\t\toldVNode._flags |= MATCHED;\n\t\t\t}\n\t\t}\n\n\t\t// Here, we define isMounting for the purposes of the skew diffing\n\t\t// algorithm. Nodes that are unsuspending are considered mounting and we detect\n\t\t// this by checking if oldVNode._original == null\n\t\tconst isMounting = oldVNode == NULL || oldVNode._original == NULL;\n\n\t\tif (isMounting) {\n\t\t\tif (matchingIndex == -1) {\n\t\t\t\t// When the array of children is growing we need to decrease the skew\n\t\t\t\t// as we are adding a new element to the array.\n\t\t\t\t// Example:\n\t\t\t\t// [1, 2, 3] --> [0, 1, 2, 3]\n\t\t\t\t// oldChildren   newChildren\n\t\t\t\t//\n\t\t\t\t// The new element is at index 0, so our skew is 0,\n\t\t\t\t// we need to decrease the skew as we are adding a new element.\n\t\t\t\t// The decrease will cause us to compare the element at position 1\n\t\t\t\t// with value 1 with the element at position 0 with value 0.\n\t\t\t\t//\n\t\t\t\t// A linear concept is applied when the array is shrinking,\n\t\t\t\t// if the length is unchanged we can assume that no skew\n\t\t\t\t// changes are needed.\n\t\t\t\tif (newChildrenLength > oldChildrenLength) {\n\t\t\t\t\tskew--;\n\t\t\t\t} else if (newChildrenLength < oldChildrenLength) {\n\t\t\t\t\tskew++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If we are mounting a DOM VNode, mark it for insertion\n\t\t\tif (typeof childVNode.type != 'function') {\n\t\t\t\tchildVNode._flags |= INSERT_VNODE;\n\t\t\t}\n\t\t} else if (matchingIndex != skewedIndex) {\n\t\t\t// When we move elements around i.e. [0, 1, 2] --> [1, 0, 2]\n\t\t\t// --> we diff 1, we find it at position 1 while our skewed index is 0 and our skew is 0\n\t\t\t//     we set the skew to 1 as we found an offset.\n\t\t\t// --> we diff 0, we find it at position 0 while our skewed index is at 2 and our skew is 1\n\t\t\t//     this makes us increase the skew again.\n\t\t\t// --> we diff 2, we find it at position 2 while our skewed index is at 4 and our skew is 2\n\t\t\t//\n\t\t\t// this becomes an optimization question where currently we see a 1 element offset as an insertion\n\t\t\t// or deletion i.e. we optimize for [0, 1, 2] --> [9, 0, 1, 2]\n\t\t\t// while a more than 1 offset we see as a swap.\n\t\t\t// We could probably build heuristics for having an optimized course of action here as well, but\n\t\t\t// might go at the cost of some bytes.\n\t\t\t//\n\t\t\t// If we wanted to optimize for i.e. only swaps we'd just do the last two code-branches and have\n\t\t\t// only the first item be a re-scouting and all the others fall in their skewed counter-part.\n\t\t\t// We could also further optimize for swaps\n\t\t\tif (matchingIndex == skewedIndex - 1) {\n\t\t\t\tskew--;\n\t\t\t} else if (matchingIndex == skewedIndex + 1) {\n\t\t\t\tskew++;\n\t\t\t} else {\n\t\t\t\tif (matchingIndex > skewedIndex) {\n\t\t\t\t\tskew--;\n\t\t\t\t} else {\n\t\t\t\t\tskew++;\n\t\t\t\t}\n\n\t\t\t\t// Move this VNode's DOM if the original index (matchingIndex) doesn't\n\t\t\t\t// match the new skew index (i + new skew)\n\t\t\t\t// In the former two branches we know that it matches after skewing\n\t\t\t\tchildVNode._flags |= INSERT_VNODE;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove remaining oldChildren if there are any. Loop forwards so that as we\n\t// unmount DOM from the beginning of the oldChildren, we can adjust oldDom to\n\t// point to the next child, which needs to be the first DOM node that won't be\n\t// unmounted.\n\tif (remainingOldChildren) {\n\t\tfor (i = 0; i < oldChildrenLength; i++) {\n\t\t\toldVNode = oldChildren[i];\n\t\t\tif (oldVNode != NULL && (oldVNode._flags & MATCHED) == 0) {\n\t\t\t\tif (oldVNode._dom == oldDom) {\n\t\t\t\t\toldDom = getDomSibling(oldVNode);\n\t\t\t\t}\n\n\t\t\t\tunmount(oldVNode, oldVNode);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * @param {VNode} parentVNode\n * @param {PreactElement} oldDom\n * @param {PreactElement} parentDom\n * @returns {PreactElement}\n */\nfunction insert(parentVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\n\tif (typeof parentVNode.type == 'function') {\n\t\tlet children = parentVNode._children;\n\t\tfor (let i = 0; children && i < children.length; i++) {\n\t\t\tif (children[i]) {\n\t\t\t\t// If we enter this code path on sCU bailout, where we copy\n\t\t\t\t// oldVNode._children to newVNode._children, we need to update the old\n\t\t\t\t// children's _parent pointer to point to the newVNode (parentVNode\n\t\t\t\t// here).\n\t\t\t\tchildren[i]._parent = parentVNode;\n\t\t\t\toldDom = insert(children[i], oldDom, parentDom);\n\t\t\t}\n\t\t}\n\n\t\treturn oldDom;\n\t} else if (parentVNode._dom != oldDom) {\n\t\tif (oldDom && parentVNode.type && !parentDom.contains(oldDom)) {\n\t\t\toldDom = getDomSibling(parentVNode);\n\t\t}\n\t\tparentDom.insertBefore(parentVNode._dom, oldDom || NULL);\n\t\toldDom = parentVNode._dom;\n\t}\n\n\tdo {\n\t\toldDom = oldDom && oldDom.nextSibling;\n\t} while (oldDom != NULL && oldDom.nodeType == 8);\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {ComponentChildren} children The unflattened children of a virtual\n * node\n * @returns {VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == NULL || typeof children == 'boolean') {\n\t} else if (isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\n/**\n * @param {VNode} childVNode\n * @param {VNode[]} oldChildren\n * @param {number} skewedIndex\n * @param {number} remainingOldChildren\n * @returns {number}\n */\nfunction findMatchingIndex(\n\tchildVNode,\n\toldChildren,\n\tskewedIndex,\n\tremainingOldChildren\n) {\n\tconst key = childVNode.key;\n\tconst type = childVNode.type;\n\tlet oldVNode = oldChildren[skewedIndex];\n\n\t// We only need to perform a search if there are more children\n\t// (remainingOldChildren) to search. However, if the oldVNode we just looked\n\t// at skewedIndex was not already used in this diff, then there must be at\n\t// least 1 other (so greater than 1) remainingOldChildren to attempt to match\n\t// against. So the following condition checks that ensuring\n\t// remainingOldChildren > 1 if the oldVNode is not already used/matched. Else\n\t// if the oldVNode was null or matched, then there could needs to be at least\n\t// 1 (aka `remainingOldChildren > 0`) children to find and compare against.\n\t//\n\t// If there is an unkeyed functional VNode, that isn't a built-in like our Fragment,\n\t// we should not search as we risk re-using state of an unrelated VNode. (reverted for now)\n\tlet shouldSearch =\n\t\t// (typeof type != 'function' || type === Fragment || key) &&\n\t\tremainingOldChildren >\n\t\t(oldVNode != NULL && (oldVNode._flags & MATCHED) == 0 ? 1 : 0);\n\n\tif (\n\t\t(oldVNode === NULL && childVNode.key == null) ||\n\t\t(oldVNode &&\n\t\t\tkey == oldVNode.key &&\n\t\t\ttype == oldVNode.type &&\n\t\t\t(oldVNode._flags & MATCHED) == 0)\n\t) {\n\t\treturn skewedIndex;\n\t} else if (shouldSearch) {\n\t\tlet x = skewedIndex - 1;\n\t\tlet y = skewedIndex + 1;\n\t\twhile (x >= 0 || y < oldChildren.length) {\n\t\t\tif (x >= 0) {\n\t\t\t\toldVNode = oldChildren[x];\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\t(oldVNode._flags & MATCHED) == 0 &&\n\t\t\t\t\tkey == oldVNode.key &&\n\t\t\t\t\ttype == oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\treturn x;\n\t\t\t\t}\n\t\t\t\tx--;\n\t\t\t}\n\n\t\t\tif (y < oldChildren.length) {\n\t\t\t\toldVNode = oldChildren[y];\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\t(oldVNode._flags & MATCHED) == 0 &&\n\t\t\t\t\tkey == oldVNode.key &&\n\t\t\t\t\ttype == oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\treturn y;\n\t\t\t\t}\n\t\t\t\ty++;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn -1;\n}\n","import {\n\tEMPTY_OBJ,\n\tMATH_NAMESPACE,\n\tMODE_HYDRATE,\n\tMODE_SUSPENDED,\n\tNULL,\n\tRESET_MODE,\n\tSVG_NAMESPACE,\n\tUNDEFINED,\n\tXHTML_NAMESPACE\n} from '../constants';\nimport { BaseComponent, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { setProperty } from './props';\nimport { assign, isArray, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * @typedef {import('../internal').ComponentChildren} ComponentChildren\n * @typedef {import('../internal').Component} Component\n * @typedef {import('../internal').PreactElement} PreactElement\n * @typedef {import('../internal').VNode} VNode\n */\n\n/**\n * @template {any} T\n * @typedef {import('../internal').Ref<T>} Ref<T>\n */\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {PreactElement} parentDom The parent of the DOM element\n * @param {VNode} newVNode The new virtual node\n * @param {VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by\n * getChildContext\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {PreactElement} oldDom The current attached DOM element any new dom\n * elements should be placed around. Likely `null` on first render (except when\n * hydrating). Can be a sibling DOM element when diffing Fragments that have\n * siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\t/** @type {any} */\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor != UNDEFINED) return NULL;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._flags & MODE_SUSPENDED) {\n\t\tisHydrating = !!(oldVNode._flags & MODE_HYDRATE);\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\touter: if (typeof newType == 'function') {\n\t\ttry {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\t\t\tconst isClassComponent =\n\t\t\t\t'prototype' in newType && newType.prototype.render;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif (isClassComponent) {\n\t\t\t\t\t// @ts-expect-error The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-expect-error Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new BaseComponent(\n\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (isClassComponent && c._nextState == NULL) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (isClassComponent && newType.getDerivedStateFromProps != NULL) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\t\t\tc._vnode = newVNode;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tisClassComponent &&\n\t\t\t\t\tnewType.getDerivedStateFromProps == NULL &&\n\t\t\t\t\tc.componentWillMount != NULL\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (isClassComponent && c.componentDidMount != NULL) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tisClassComponent &&\n\t\t\t\t\tnewType.getDerivedStateFromProps == NULL &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != NULL\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != NULL &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original == oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original != oldVNode._original) {\n\t\t\t\t\t\t// When we are dealing with a bail because of sCU we have to update\n\t\t\t\t\t\t// the props, state and dirty-state.\n\t\t\t\t\t\t// when we are dealing with strict-equality we don't as the child could still\n\t\t\t\t\t\t// be dirtied see #3883\n\t\t\t\t\t\tc.props = newProps;\n\t\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t\tc._dirty = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.some(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != NULL) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (isClassComponent && c.componentDidUpdate != NULL) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._parentDom = parentDom;\n\t\t\tc._force = false;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif (isClassComponent) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != NULL) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (isClassComponent && !isNew && c.getSnapshotBeforeUpdate != NULL) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != NULL && tmp.type === Fragment && tmp.key == NULL;\n\t\t\tlet renderResult = tmp;\n\n\t\t\tif (isTopLevelFragment) {\n\t\t\t\trenderResult = cloneNode(tmp.props.children);\n\t\t\t}\n\n\t\t\toldDom = diffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tisArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnamespace,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._flags &= RESET_MODE;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = NULL;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tnewVNode._original = NULL;\n\t\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\t\tif (isHydrating || excessDomChildren != NULL) {\n\t\t\t\tif (e.then) {\n\t\t\t\t\tnewVNode._flags |= isHydrating\n\t\t\t\t\t\t? MODE_HYDRATE | MODE_SUSPENDED\n\t\t\t\t\t\t: MODE_SUSPENDED;\n\n\t\t\t\t\twhile (oldDom && oldDom.nodeType == 8 && oldDom.nextSibling) {\n\t\t\t\t\t\toldDom = oldDom.nextSibling;\n\t\t\t\t\t}\n\n\t\t\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = NULL;\n\t\t\t\t\tnewVNode._dom = oldDom;\n\t\t\t\t} else {\n\t\t\t\t\tfor (let i = excessDomChildren.length; i--; ) {\n\t\t\t\t\t\tremoveNode(excessDomChildren[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t}\n\t\t\toptions._catchError(e, newVNode, oldVNode);\n\t\t}\n\t} else if (\n\t\texcessDomChildren == NULL &&\n\t\tnewVNode._original == oldVNode._original\n\t) {\n\t\tnewVNode._children = oldVNode._children;\n\t\tnewVNode._dom = oldVNode._dom;\n\t} else {\n\t\toldDom = newVNode._dom = diffElementNodes(\n\t\t\toldVNode._dom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tnamespace,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\t}\n\n\tif ((tmp = options.diffed)) tmp(newVNode);\n\n\treturn newVNode._flags & MODE_SUSPENDED ? undefined : oldDom;\n}\n\n/**\n * @param {Array<Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {VNode} root\n */\nexport function commitRoot(commitQueue, root, refQueue) {\n\tfor (let i = 0; i < refQueue.length; i++) {\n\t\tapplyRef(refQueue[i], refQueue[++i], refQueue[++i]);\n\t}\n\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-expect-error Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-expect-error See above comment on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\nfunction cloneNode(node) {\n\tif (\n\t\ttypeof node != 'object' ||\n\t\tnode == NULL ||\n\t\t(node._depth && node._depth > 0)\n\t) {\n\t\treturn node;\n\t}\n\n\tif (isArray(node)) {\n\t\treturn node.map(cloneNode);\n\t}\n\n\treturn assign({}, node);\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {PreactElement} dom The DOM element representing the virtual nodes\n * being diffed\n * @param {VNode} newVNode The new virtual node\n * @param {VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {string} namespace Current namespace of the DOM node (HTML, SVG, or MathML)\n * @param {Array<PreactElement>} excessDomChildren\n * @param {Array<Component>} commitQueue List of components which have callbacks\n * to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {any[]} refQueue an array of elements needed to invoke refs\n * @returns {PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tnamespace,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating,\n\trefQueue\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = /** @type {string} */ (newVNode.type);\n\t/** @type {any} */\n\tlet i;\n\t/** @type {{ __html?: string }} */\n\tlet newHtml;\n\t/** @type {{ __html?: string }} */\n\tlet oldHtml;\n\t/** @type {ComponentChildren} */\n\tlet newChildren;\n\tlet value;\n\tlet inputValue;\n\tlet checked;\n\n\t// Tracks entering and exiting namespaces when descending through the tree.\n\tif (nodeType == 'svg') namespace = SVG_NAMESPACE;\n\telse if (nodeType == 'math') namespace = MATH_NAMESPACE;\n\telse if (!namespace) namespace = XHTML_NAMESPACE;\n\n\tif (excessDomChildren != NULL) {\n\t\tfor (i = 0; i < excessDomChildren.length; i++) {\n\t\t\tvalue = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tvalue &&\n\t\t\t\t'setAttribute' in value == !!nodeType &&\n\t\t\t\t(nodeType ? value.localName == nodeType : value.nodeType == 3)\n\t\t\t) {\n\t\t\t\tdom = value;\n\t\t\t\texcessDomChildren[i] = NULL;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == NULL) {\n\t\tif (nodeType == NULL) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tdom = document.createElementNS(\n\t\t\tnamespace,\n\t\t\tnodeType,\n\t\t\tnewProps.is && newProps\n\t\t);\n\n\t\t// we are creating a new node, so we can assume this is a new subtree (in\n\t\t// case we are hydrating), this deopts the hydrate\n\t\tif (isHydrating) {\n\t\t\tif (options._hydrationMismatch)\n\t\t\t\toptions._hydrationMismatch(newVNode, excessDomChildren);\n\t\t\tisHydrating = false;\n\t\t}\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = NULL;\n\t}\n\n\tif (nodeType == NULL) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data != newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\t// If we are in a situation where we are not hydrating but are using\n\t\t// existing DOM (e.g. replaceNode) we should read the existing DOM\n\t\t// attributes to diff them\n\t\tif (!isHydrating && excessDomChildren != NULL) {\n\t\t\toldProps = {};\n\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\tvalue = dom.attributes[i];\n\t\t\t\toldProps[value.name] = value.value;\n\t\t\t}\n\t\t}\n\n\t\tfor (i in oldProps) {\n\t\t\tvalue = oldProps[i];\n\t\t\tif (i == 'children') {\n\t\t\t} else if (i == 'dangerouslySetInnerHTML') {\n\t\t\t\toldHtml = value;\n\t\t\t} else if (!(i in newProps)) {\n\t\t\t\tif (\n\t\t\t\t\t(i == 'value' && 'defaultValue' in newProps) ||\n\t\t\t\t\t(i == 'checked' && 'defaultChecked' in newProps)\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tsetProperty(dom, i, NULL, value, namespace);\n\t\t\t}\n\t\t}\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tfor (i in newProps) {\n\t\t\tvalue = newProps[i];\n\t\t\tif (i == 'children') {\n\t\t\t\tnewChildren = value;\n\t\t\t} else if (i == 'dangerouslySetInnerHTML') {\n\t\t\t\tnewHtml = value;\n\t\t\t} else if (i == 'value') {\n\t\t\t\tinputValue = value;\n\t\t\t} else if (i == 'checked') {\n\t\t\t\tchecked = value;\n\t\t\t} else if (\n\t\t\t\t(!isHydrating || typeof value == 'function') &&\n\t\t\t\toldProps[i] !== value\n\t\t\t) {\n\t\t\t\tsetProperty(dom, i, value, oldProps[i], namespace);\n\t\t\t}\n\t\t}\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\tif (\n\t\t\t\t!isHydrating &&\n\t\t\t\t(!oldHtml ||\n\t\t\t\t\t(newHtml.__html != oldHtml.__html && newHtml.__html != dom.innerHTML))\n\t\t\t) {\n\t\t\t\tdom.innerHTML = newHtml.__html;\n\t\t\t}\n\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\tif (oldHtml) dom.innerHTML = '';\n\n\t\t\tdiffChildren(\n\t\t\t\t// @ts-expect-error\n\t\t\t\tnewVNode.type == 'template' ? dom.content : dom,\n\t\t\t\tisArray(newChildren) ? newChildren : [newChildren],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnodeType == 'foreignObject' ? XHTML_NAMESPACE : namespace,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != NULL) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tremoveNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// As above, don't diff props during hydration\n\t\tif (!isHydrating) {\n\t\t\ti = 'value';\n\t\t\tif (nodeType == 'progress' && inputValue == NULL) {\n\t\t\t\tdom.removeAttribute('value');\n\t\t\t} else if (\n\t\t\t\tinputValue != UNDEFINED &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(inputValue !== dom[i] ||\n\t\t\t\t\t(nodeType == 'progress' && !inputValue) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType == 'option' && inputValue != oldProps[i]))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, i, inputValue, oldProps[i], namespace);\n\t\t\t}\n\n\t\t\ti = 'checked';\n\t\t\tif (checked != UNDEFINED && checked != dom[i]) {\n\t\t\t\tsetProperty(dom, i, checked, oldProps[i], namespace);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {Ref<any> & { _unmount?: unknown }} ref\n * @param {any} value\n * @param {VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') {\n\t\t\tlet hasRefUnmount = typeof ref._unmount == 'function';\n\t\t\tif (hasRefUnmount) {\n\t\t\t\t// @ts-ignore TS doesn't like moving narrowing checks into variables\n\t\t\t\tref._unmount();\n\t\t\t}\n\n\t\t\tif (!hasRefUnmount || value != NULL) {\n\t\t\t\t// Store the cleanup function on the function\n\t\t\t\t// instance object itself to avoid shape\n\t\t\t\t// transitioning vnode\n\t\t\t\tref._unmount = ref(value);\n\t\t\t}\n\t\t} else ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {VNode} vnode The virtual node to unmount\n * @param {VNode} parentVNode The parent of the VNode that initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current == vnode._dom) {\n\t\t\tapplyRef(r, NULL, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != NULL) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = NULL;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type != 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\tvnode._component = vnode._parent = vnode._dom = UNDEFINED;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ, NULL } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\t// https://github.com/preactjs/preact/issues/3794\n\tif (parentDom == document) {\n\t\tparentDom = document.documentElement;\n\t}\n\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode == 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? NULL\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = ((!isHydrating && replaceNode) || parentDom)._children =\n\t\tcreateElement(Fragment, NULL, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [],\n\t\trefQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.namespaceURI,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t\t? NULL\n\t\t\t\t: parentDom.firstChild\n\t\t\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t\t\t: NULL,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t\t? oldVNode._dom\n\t\t\t\t: parentDom.firstChild,\n\t\tisHydrating,\n\t\trefQueue\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode, refQueue);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","import { assign, slice } from './util';\nimport { createVNode } from './create-element';\nimport { NULL, UNDEFINED } from './constants';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its\n * children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used\n * as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\n\tlet defaultProps;\n\n\tif (vnode.type && vnode.type.defaultProps) {\n\t\tdefaultProps = vnode.type.defaultProps;\n\t}\n\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse if (props[i] === UNDEFINED && defaultProps != UNDEFINED) {\n\t\t\tnormalizedProps[i] = defaultProps[i];\n\t\t} else {\n\t\t\tnormalizedProps[i] = props[i];\n\t\t}\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tNULL\n\t);\n}\n","import { select, pointer } from 'd3-selection';\nimport Kapsule from 'kapsule';\nimport { isValidElement, cloneElement, render as render$1 } from 'preact';\n\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: true,\n    configurable: true,\n    writable: true\n  }) : e[r] = t, e;\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = true,\n      o = false;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) ; else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = true, n = r;\n    } finally {\n      try {\n        if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), true).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r);\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\n\nvar _reactElement2VNode = function reactElement2VNode(el) {\n  // Among other things, react VNodes (and all its children) need to have constructor: undefined attributes in order to be recognised, cloneElement (applied recursively) does the necessary conversion\n  if (!(_typeof(el) === 'object')) return el;\n  var res = cloneElement(el);\n  if (res.props) {\n    var _res$props;\n    res.props = _objectSpread2({}, res.props);\n    if (res !== null && res !== void 0 && (_res$props = res.props) !== null && _res$props !== void 0 && _res$props.children) {\n      res.props.children = Array.isArray(res.props.children) ? res.props.children.map(_reactElement2VNode) : _reactElement2VNode(res.props.children);\n    }\n  }\n  return res;\n};\nvar isReactRenderable = function isReactRenderable(o) {\n  return isValidElement(cloneElement(o));\n};\nvar render = function render(jsx, domEl) {\n  delete domEl.__k; // Wipe traces of previous preact renders\n  render$1(_reactElement2VNode(jsx), domEl);\n};\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n  if (typeof document === 'undefined') {\n    return;\n  }\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".float-tooltip-kap {\\n  position: absolute;\\n  width: max-content; /* prevent shrinking near right edge */\\n  max-width: max(50%, 150px);\\n  padding: 3px 5px;\\n  border-radius: 3px;\\n  font: 12px sans-serif;\\n  color: #eee;\\n  background: rgba(0,0,0,0.6);\\n  pointer-events: none;\\n}\\n\";\nstyleInject(css_248z);\n\nvar index = Kapsule({\n  props: {\n    content: {\n      \"default\": false\n    },\n    offsetX: {\n      triggerUpdate: false\n    },\n    // null or number\n    offsetY: {\n      triggerUpdate: false\n    } // null or number\n  },\n  init: function init(domNode, state) {\n    var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref$style = _ref.style,\n      style = _ref$style === void 0 ? {} : _ref$style;\n    var isD3Selection = !!domNode && _typeof(domNode) === 'object' && !!domNode.node && typeof domNode.node === 'function';\n    var el = select(isD3Selection ? domNode.node() : domNode);\n\n    // make sure container is positioned, to provide anchor for tooltip\n    el.style('position') === 'static' && el.style('position', 'relative');\n    state.tooltipEl = el.append('div').attr('class', 'float-tooltip-kap');\n    Object.entries(style).forEach(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n        k = _ref3[0],\n        v = _ref3[1];\n      return state.tooltipEl.style(k, v);\n    });\n    state.tooltipEl // start off-screen\n    .style('left', '-10000px').style('display', 'none');\n    var evSuffix = \"tooltip-\".concat(Math.round(Math.random() * 1e12));\n    state.mouseInside = false;\n    el.on(\"mousemove.\".concat(evSuffix), function (ev) {\n      state.mouseInside = true;\n      var mousePos = pointer(ev);\n      var domNode = el.node();\n      var canvasWidth = domNode.offsetWidth;\n      var canvasHeight = domNode.offsetHeight;\n      var translate = [state.offsetX === null || state.offsetX === undefined\n      // auto: adjust horizontal position to not exceed canvas boundaries\n      ? \"-\".concat(mousePos[0] / canvasWidth * 100, \"%\") : typeof state.offsetX === 'number' ? \"calc(-50% + \".concat(state.offsetX, \"px)\") : state.offsetX, state.offsetY === null || state.offsetY === undefined\n      // auto: flip to above if near bottom\n      ? canvasHeight > 130 && canvasHeight - mousePos[1] < 100 ? 'calc(-100% - 6px)' : '21px' : typeof state.offsetY === 'number' ? state.offsetY < 0 ? \"calc(-100% - \".concat(Math.abs(state.offsetY), \"px)\") : \"\".concat(state.offsetY, \"px\") : state.offsetY];\n      state.tooltipEl.style('left', mousePos[0] + 'px').style('top', mousePos[1] + 'px').style('transform', \"translate(\".concat(translate.join(','), \")\"));\n      state.content && state.tooltipEl.style('display', 'inline');\n    });\n    el.on(\"mouseover.\".concat(evSuffix), function () {\n      state.mouseInside = true;\n      state.content && state.tooltipEl.style('display', 'inline');\n    });\n    el.on(\"mouseout.\".concat(evSuffix), function () {\n      state.mouseInside = false;\n      state.tooltipEl.style('display', 'none');\n    });\n  },\n  update: function update(state) {\n    state.tooltipEl.style('display', !!state.content && state.mouseInside ? 'inline' : 'none');\n    if (!state.content) {\n      state.tooltipEl.text('');\n    } else if (state.content instanceof HTMLElement) {\n      state.tooltipEl.text(''); // empty it\n      state.tooltipEl.append(function () {\n        return state.content;\n      });\n    } else if (typeof state.content === 'string') {\n      state.tooltipEl.html(state.content);\n    } else if (isReactRenderable(state.content)) {\n      state.tooltipEl.text(''); // empty it\n      render(state.content, state.tooltipEl.node());\n    } else {\n      state.tooltipEl.style('display', 'none');\n      console.warn('Tooltip content is invalid, skipping.', state.content, state.content.toString());\n    }\n  }\n});\n\nexport { index as default };\n","import { NULL } from '../constants';\n\n/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw the error that was caught (except\n * for unmounting when this parameter is the highest parent that was being\n * unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component,\n\t\t/** @type {import('../internal').ComponentType} */\n\t\tctor,\n\t\t/** @type {boolean} */\n\t\thandled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != NULL) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != NULL) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","import { select } from 'd3-selection';\nimport { scalePow, scaleLinear } from 'd3-scale';\nimport { hierarchy, partition } from 'd3-hierarchy';\nimport { arc } from 'd3-shape';\nimport { path } from 'd3-path';\nimport { interpolate } from 'd3-interpolate';\nimport { transition } from 'd3-transition';\nimport Kapsule from 'kapsule';\nimport accessorFn from 'accessor-fn';\nimport Tooltip from 'float-tooltip';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n  if (typeof document === 'undefined') {\n    return;\n  }\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".sunburst-viz .slice path {\\n  cursor: pointer;\\n}\\n\\n.sunburst-viz text {\\n  dominant-baseline: middle;\\n  text-anchor: middle;\\n  pointer-events: none;\\n  fill: #222;\\n}\\n\\n.sunburst-viz .text-contour {\\n  fill: none;\\n  stroke: white;\\n  stroke-linejoin: 'round';\\n}\\n\\n.sunburst-viz .main-arc {\\n  stroke-width: 1px;\\n  transition: opacity .4s;\\n}\\n\\n.sunburst-viz .main-arc:hover {\\n  opacity: 0.85;\\n  transition: opacity .05s;\\n}\\n\\n.sunburst-viz .hidden-arc {\\n  fill: none;\\n}\\n\\n.sunburst-viz .tooltip-title {\\n  font-weight: bold;\\n  text-align: center;\\n  margin-bottom: 5px;\\n}\\n\\n.sunburst-viz {\\n  position: relative;\\n}\\n\";\nstyleInject(css_248z);\n\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return _arrayLikeToArray(r);\n}\nfunction _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toConsumableArray(r) {\n  return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread();\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\n\nvar measureTextWidth = function measureTextWidth(text) {\n  var fontSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 16;\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n    _ref$strokeWidth = _ref.strokeWidth,\n    strokeWidth = _ref$strokeWidth === void 0 ? 1 : _ref$strokeWidth,\n    _ref$fontFamily = _ref.fontFamily,\n    fontFamily = _ref$fontFamily === void 0 ? 'sans-serif' : _ref$fontFamily;\n  var ctx = new OffscreenCanvas(0, 0).getContext('2d');\n  if (!ctx) return 0;\n  ctx.font = \"\".concat(fontSize, \"px \").concat(fontFamily);\n  return ctx.measureText(text).width + strokeWidth;\n};\n\nvar TEXT_FONTSIZE = 12;\nvar TEXT_STROKE_WIDTH = 5;\nvar sunburst = Kapsule({\n  props: {\n    width: {\n      \"default\": window.innerWidth\n    },\n    height: {\n      \"default\": window.innerHeight\n    },\n    data: {\n      onChange: function onChange(_, state) {\n        state.needsReparse = true;\n      }\n    },\n    children: {\n      \"default\": 'children',\n      onChange: function onChange(_, state) {\n        state.needsReparse = true;\n      }\n    },\n    sort: {\n      onChange: function onChange(_, state) {\n        state.needsReparse = true;\n      }\n    },\n    label: {\n      \"default\": function _default(d) {\n        return d.name;\n      }\n    },\n    labelOrientation: {\n      \"default\": 'auto'\n    },\n    // angular, radial, auto\n    size: {\n      \"default\": 'value',\n      onChange: function onChange(_, state) {\n        state.needsReparse = true;\n      }\n    },\n    color: {\n      \"default\": function _default(d) {\n        return 'lightgrey';\n      }\n    },\n    strokeColor: {\n      \"default\": function _default(d) {\n        return 'white';\n      }\n    },\n    nodeClassName: {},\n    // Additional css classes to add on each slice node\n    minSliceAngle: {\n      \"default\": .2\n    },\n    maxLevels: {},\n    excludeRoot: {\n      \"default\": false,\n      onChange: function onChange(_, state) {\n        state.needsReparse = true;\n      }\n    },\n    centerRadius: {\n      \"default\": 0.1\n    },\n    radiusScaleExponent: {\n      \"default\": 0.5\n    },\n    // radius decreases quadratically outwards to preserve area\n    showLabels: {\n      \"default\": true\n    },\n    handleNonFittingLabel: {},\n    tooltipContent: {\n      \"default\": function _default(d) {\n        return '';\n      },\n      triggerUpdate: false\n    },\n    tooltipTitle: {\n      \"default\": null,\n      triggerUpdate: false\n    },\n    showTooltip: {\n      \"default\": function _default(d) {\n        return true;\n      },\n      triggerUpdate: false\n    },\n    focusOnNode: {\n      onChange: function onChange(d, state) {\n        if (d && state.initialised) {\n          moveStackToFront(d.__dataNode);\n        }\n        function moveStackToFront(elD) {\n          state.svg.selectAll('.slice').filter(function (d) {\n            return d === elD;\n          }).each(function (d) {\n            this.parentNode.appendChild(this);\n            if (d.parent) {\n              moveStackToFront(d.parent);\n            }\n          });\n        }\n      }\n    },\n    onClick: {\n      triggerUpdate: false\n    },\n    onRightClick: {\n      triggerUpdate: false\n    },\n    onHover: {\n      triggerUpdate: false\n    },\n    transitionDuration: {\n      \"default\": 750,\n      triggerUpdate: false\n    }\n  },\n  methods: {\n    _parseData: function _parseData(state) {\n      if (state.data) {\n        var hierData = hierarchy(state.data, accessorFn(state.children)).sum(accessorFn(state.size));\n        if (state.sort) {\n          hierData.sort(state.sort);\n        }\n        partition().padding(0)(hierData);\n        if (state.excludeRoot) {\n          // re-scale y values if excluding root\n          var yScale = scaleLinear().domain([hierData.y1 - hierData.y0, 1]);\n          hierData.descendants().forEach(function (d) {\n            d.y0 = yScale(d.y0);\n            d.y1 = yScale(d.y1);\n          });\n        }\n        hierData.descendants().forEach(function (d, i) {\n          d.id = i; // Mark each node with a unique ID\n          d.data.__dataNode = d; // Dual-link data nodes\n        });\n        state.layoutData = hierData.descendants();\n      }\n    }\n  },\n  init: function init(domNode, state) {\n    var _this = this;\n    state.chartId = Math.round(Math.random() * 1e12); // Unique ID for DOM elems\n\n    state.radiusScale = scalePow();\n    state.angleScale = scaleLinear().domain([0, 10]) // For initial build-in animation\n    .range([0, 2 * Math.PI]).clamp(true);\n    state.arc = arc().startAngle(function (d) {\n      return state.angleScale(d.x0);\n    }).endAngle(function (d) {\n      return state.angleScale(d.x1);\n    }).innerRadius(function (d) {\n      return Math.max(0, state.radiusScale(d.y0));\n    }).outerRadius(function (d) {\n      return Math.max(0, state.radiusScale(d.y1));\n    });\n    var el = select(domNode).append('div').attr('class', 'sunburst-viz');\n    state.svg = el.append('svg');\n    state.canvas = state.svg.append('g').style('font-family', 'sans-serif').style('font-size', \"\".concat(TEXT_FONTSIZE, \"px\"));\n    state.tooltip = new Tooltip(el);\n\n    // Reset focus by clicking on canvas\n    state.svg.on('click', function (ev) {\n      return (state.onClick || _this.focusOnNode)(null, ev);\n    }) // By default reset zoom when clicking on canvas\n    .on('contextmenu', function (ev) {\n      if (state.onRightClick) {\n        // By default do nothing when right-clicking on canvas\n        state.onRightClick(null, ev);\n        ev.preventDefault();\n      }\n    }).on('mouseover', function (ev) {\n      return state.onHover && state.onHover(null, ev);\n    });\n  },\n  update: function update(state) {\n    var _this2 = this;\n    if (state.needsReparse) {\n      this._parseData();\n      state.needsReparse = false;\n    }\n    var maxRadius = Math.min(state.width, state.height) / 2;\n    state.radiusScale.range([maxRadius * Math.max(0, Math.min(1, state.centerRadius)), maxRadius]);\n    state.radiusScaleExponent > 0 && state.radiusScale.exponent(state.radiusScaleExponent);\n    state.svg.style('width', state.width + 'px').style('height', state.height + 'px').attr('viewBox', \"\".concat(-state.width / 2, \" \").concat(-state.height / 2, \" \").concat(state.width, \" \").concat(state.height));\n    if (!state.layoutData) return;\n    var focusD = state.focusOnNode && state.focusOnNode.__dataNode.y0 >= 0 && state.focusOnNode.__dataNode || {\n      x0: 0,\n      x1: 1,\n      y0: 0,\n      y1: 1\n    };\n    var slice = state.canvas.selectAll('.slice').data(state.layoutData.filter(function (d) {\n      return (\n        // Show only slices with a large enough angle and within the max levels\n        d.x1 > focusD.x0 && d.x0 < focusD.x1 && (d.x1 - d.x0) / (focusD.x1 - focusD.x0) > state.minSliceAngle / 360 && (!state.maxLevels || d.depth - (focusD.depth || (state.excludeRoot ? 1 : 0)) < state.maxLevels) && (d.y0 >= 0 || focusD.parent)\n      );\n    } // hide negative layers on top level\n    ), function (d) {\n      return d.id;\n    });\n    var nameOf = accessorFn(state.label);\n    var colorOf = accessorFn(state.color);\n    var strokeColorOf = accessorFn(state.strokeColor);\n    var nodeClassNameOf = accessorFn(state.nodeClassName);\n    var transition$1 = transition().duration(state.transitionDuration);\n    var levelYDelta = state.layoutData[0].y1 - state.layoutData[0].y0;\n    var maxY = Math.min(1, focusD.y0 + levelYDelta * Math.min(focusD.hasOwnProperty('height') ? focusD.height + 1 : Infinity, state.maxLevels || Infinity));\n\n    // Apply zoom\n    state.svg.transition(transition$1).tween('scale', function () {\n      var xd = interpolate(state.angleScale.domain(), [focusD.x0, focusD.x1]);\n      var yd = interpolate(state.radiusScale.domain(), [focusD.y0, maxY]);\n      return function (t) {\n        state.angleScale.domain(xd(t));\n        state.radiusScale.domain(yd(t));\n      };\n    });\n\n    // Exiting\n    var oldSlice = slice.exit().transition(transition$1).remove();\n    oldSlice.select('path.main-arc').attrTween('d', function (d) {\n      return function () {\n        return state.arc(d);\n      };\n    });\n    oldSlice.select('path.hidden-arc').attrTween('d', function (d) {\n      return function () {\n        return middleArcLine(d);\n      };\n    });\n\n    // Entering\n    var newSlice = slice.enter().append('g').style('opacity', 0).on('click', function (ev, d) {\n      ev.stopPropagation();\n      (state.onClick || _this2.focusOnNode)(d.data, ev);\n    }).on('contextmenu', function (ev, d) {\n      ev.stopPropagation();\n      if (state.onRightClick) {\n        state.onRightClick(d.data, ev);\n        ev.preventDefault();\n      }\n    }).on('mouseover', function (ev, d) {\n      ev.stopPropagation();\n      state.onHover && state.onHover(d.data, ev);\n      state.tooltip.content(!!state.showTooltip(d.data, d) && \"<div class=\\\"tooltip-title\\\">\".concat(state.tooltipTitle ? state.tooltipTitle(d.data, d) : getNodeStack(d).slice(state.excludeRoot ? 1 : 0).map(function (d) {\n        return nameOf(d.data);\n      }).join(' &rarr; '), \"</div>\").concat(state.tooltipContent(d.data, d)));\n    }).on('mouseout', function () {\n      return state.tooltip.content(false);\n    });\n    newSlice.append('path').attr('class', 'main-arc').style('stroke', function (d) {\n      return strokeColorOf(d.data, d.parent);\n    }).style('fill', function (d) {\n      return colorOf(d.data, d.parent);\n    });\n    newSlice.append('path').attr('class', 'hidden-arc').attr('id', function (d) {\n      return \"hidden-arc-\".concat(state.chartId, \"-\").concat(d.id);\n    });\n\n    // angular label\n    var angularLabel = newSlice.append('text').attr('class', 'angular-label');\n\n    // Add white contour\n    angularLabel.append('textPath').attr('class', 'text-contour').attr('startOffset', '50%').attr('xlink:href', function (d) {\n      return \"#hidden-arc-\".concat(state.chartId, \"-\").concat(d.id);\n    });\n    angularLabel.append('textPath').attr('class', 'text-stroke').attr('startOffset', '50%').attr('xlink:href', function (d) {\n      return \"#hidden-arc-\".concat(state.chartId, \"-\").concat(d.id);\n    });\n\n    // radial label\n    var radialLabel = newSlice.append('g').attr('class', 'radial-label');\n    radialLabel.append('text').attr('class', 'text-contour'); // white contour\n    radialLabel.append('text').attr('class', 'text-stroke');\n\n    // white contour\n    newSlice.selectAll('.text-contour').style('stroke-width', \"\".concat(TEXT_STROKE_WIDTH, \"px\"));\n\n    // Entering + Updating\n    var allSlices = slice.merge(newSlice);\n    allSlices.style('opacity', 1).attr('class', function (d) {\n      return ['slice'].concat(_toConsumableArray(\"\".concat(nodeClassNameOf(d.data) || '').split(' ').map(function (str) {\n        return str.trim();\n      }))).filter(function (s) {\n        return s;\n      }).join(' ');\n    });\n    allSlices.select('path.main-arc').transition(transition$1).attrTween('d', function (d) {\n      return function () {\n        return state.arc(d);\n      };\n    }).style('stroke', function (d) {\n      return strokeColorOf(d.data, d.parent);\n    }).style('fill', function (d) {\n      return colorOf(d.data, d.parent);\n    });\n    var computeAngularLabels = state.showLabels && ['angular', 'auto'].includes(state.labelOrientation.toLowerCase());\n    var computeRadialLabels = state.showLabels && ['radial', 'auto'].includes(state.labelOrientation.toLowerCase());\n    if (computeAngularLabels) {\n      allSlices.select('path.hidden-arc').transition(transition$1).attrTween('d', function (d) {\n        return function () {\n          return middleArcLine(d);\n        };\n      });\n    }\n\n    // Ensure propagation of data to labels children\n    allSlices.select('text.angular-label').select('textPath.text-contour');\n    allSlices.select('text.angular-label').select('textPath.text-stroke');\n    allSlices.select('g.radial-label').select('text.text-contour');\n    allSlices.select('g.radial-label').select('text.text-stroke');\n\n    // Label processing\n    var getLabelMeta = function getLabelMeta(d) {\n      if (!state.showLabels) return {\n        label: '',\n        fits: false\n      };\n      var isRadial = (state.labelOrientation === 'auto' ? autoPickLabelOrientation(d) : state.labelOrientation) !== 'angular';\n      var label = nameOf(d.data);\n      var fits = isRadial ? radialTextFits(d) : angularTextFits(d);\n      if (!fits && state.handleNonFittingLabel) {\n        var availableSpace = isRadial ? getAvailableLabelRadialSpace(d) : getAvailableLabelAngularSpace(d);\n        var newLabel = state.handleNonFittingLabel(label, availableSpace, d);\n        if (newLabel) {\n          label = newLabel;\n          fits = true;\n        }\n      }\n      return {\n        isRadial: isRadial,\n        label: label,\n        fits: fits\n      };\n    };\n    var labelMetaCache = new Map();\n\n    // Show/hide labels\n    allSlices.select('.angular-label').transition(transition$1).styleTween('display', function (d) {\n      return function () {\n        labelMetaCache.set(d, getLabelMeta(d)); // cache label settings\n\n        var _labelMetaCache$get = labelMetaCache.get(d),\n          isRadial = _labelMetaCache$get.isRadial,\n          fits = _labelMetaCache$get.fits;\n        return computeAngularLabels && !isRadial && fits ? null : 'none';\n      };\n    });\n    allSlices.select('.radial-label').transition(transition$1).styleTween('display', function (d) {\n      return function () {\n        var _labelMetaCache$get2 = labelMetaCache.get(d),\n          isRadial = _labelMetaCache$get2.isRadial,\n          fits = _labelMetaCache$get2.fits;\n        return computeRadialLabels && isRadial && fits ? null : 'none';\n      };\n    });\n\n    // Set labels\n    computeAngularLabels && allSlices.selectAll('text.angular-label').selectAll('textPath').transition(transition$1).textTween(function (d) {\n      return function () {\n        return labelMetaCache.get(d).label;\n      };\n    });\n    computeRadialLabels && allSlices.selectAll('g.radial-label').selectAll('text').transition(transition$1).textTween(function (d) {\n      return function () {\n        return labelMetaCache.get(d).label;\n      };\n    }).attrTween('transform', function (d) {\n      return function () {\n        return radialTextTransform(d);\n      };\n    });\n\n    //\n\n    function middleArcLine(d) {\n      var halfPi = Math.PI / 2;\n      var angles = [state.angleScale(d.x0) - halfPi, state.angleScale(d.x1) - halfPi];\n      var r = Math.max(0, (state.radiusScale(d.y0) + state.radiusScale(d.y1)) / 2);\n      if (!r || !(angles[1] - angles[0])) return '';\n      var middleAngle = (angles[1] + angles[0]) / 2;\n      var invertDirection = middleAngle > 0 && middleAngle < Math.PI; // On lower quadrants write text ccw\n      if (invertDirection) {\n        angles.reverse();\n      }\n      var path$1 = path();\n      path$1.arc(0, 0, r, angles[0], angles[1], invertDirection);\n      return path$1.toString();\n    }\n    function radialTextTransform(d) {\n      var middleAngle = (state.angleScale(d.x0) + state.angleScale(d.x1) - Math.PI) / 2;\n      var r = Math.max(0, (state.radiusScale(d.y0) + state.radiusScale(d.y1)) / 2);\n      var x = r * Math.cos(middleAngle);\n      var y = r * Math.sin(middleAngle);\n      var rot = middleAngle * 180 / Math.PI;\n      middleAngle > Math.PI / 2 && middleAngle < Math.PI * 3 / 2 && (rot += 180); // prevent upside down text\n\n      return \"translate(\".concat(x, \", \").concat(y, \") rotate(\").concat(rot, \")\");\n    }\n    function getAvailableLabelAngularSpace(d) {\n      var deltaAngle = state.angleScale(d.x1) - state.angleScale(d.x0);\n      var r = Math.max(0, (state.radiusScale(d.y0) + state.radiusScale(d.y1)) / 2);\n      return r * deltaAngle;\n    }\n    function getAvailableLabelRadialSpace(d) {\n      return state.radiusScale(d.y1) - state.radiusScale(d.y0);\n    }\n    function angularTextFits(d) {\n      return measureTextWidth(nameOf(d.data).toString(), TEXT_FONTSIZE, {\n        strokeWidth: TEXT_STROKE_WIDTH\n      }) < getAvailableLabelAngularSpace(d);\n    }\n    function radialTextFits(d) {\n      var availableHeight = state.radiusScale(d.y0) * (state.angleScale(d.x1) - state.angleScale(d.x0));\n      if (availableHeight < TEXT_FONTSIZE + TEXT_STROKE_WIDTH) return false; // not enough angular space\n\n      return measureTextWidth(nameOf(d.data).toString(), TEXT_FONTSIZE, {\n        strokeWidth: TEXT_STROKE_WIDTH\n      }) < getAvailableLabelRadialSpace(d);\n    }\n    function autoPickLabelOrientation(d) {\n      // prefer mode that keeps text most horizontal\n      var angle = (state.angleScale(d.x0) + state.angleScale(d.x1)) / 2 % Math.PI;\n      var preferRadial = angle > Math.PI / 4 && angle < Math.PI * 3 / 4;\n      var orientation = preferRadial ? radialTextFits(d) ? 'radial' : angularTextFits(d) ? 'angular' : null : angularTextFits(d) ? 'angular' : radialTextFits(d) ? 'radial' : null;\n      if (!orientation) {\n        var availableArcWidth = state.radiusScale(d.y0) * (state.angleScale(d.x1) - state.angleScale(d.x0));\n        if (availableArcWidth < TEXT_FONTSIZE + TEXT_STROKE_WIDTH) {\n          // not enough space for radial text, choose angular\n          orientation = 'angular';\n        } else {\n          var angularSpace = getAvailableLabelAngularSpace(d);\n          var radialSpace = getAvailableLabelRadialSpace(d);\n          orientation = angularSpace < radialSpace ? 'radial' : 'angular';\n        }\n      }\n      return orientation;\n    }\n    function getNodeStack(d) {\n      var stack = [];\n      var curNode = d;\n      while (curNode) {\n        stack.unshift(curNode);\n        curNode = curNode.parent;\n      }\n      return stack;\n    }\n  }\n});\n\nexport { sunburst as default };\n","import * as ReactJSXRuntime from 'react/jsx-runtime';\nimport { h as hasOwn, E as Emotion, c as createEmotionProps } from '../../dist/emotion-element-f0de968e.browser.esm.js';\nimport 'react';\nimport '@emotion/cache';\nimport '@babel/runtime/helpers/extends';\nimport '@emotion/weak-memoize';\nimport '../../_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js';\nimport 'hoist-non-react-statics';\nimport '@emotion/utils';\nimport '@emotion/serialize';\nimport '@emotion/use-insertion-effect-with-fallbacks';\n\nvar Fragment = ReactJSXRuntime.Fragment;\nvar jsx = function jsx(type, props, key) {\n  if (!hasOwn.call(props, 'css')) {\n    return ReactJSXRuntime.jsx(type, props, key);\n  }\n\n  return ReactJSXRuntime.jsx(Emotion, createEmotionProps(type, props), key);\n};\nvar jsxs = function jsxs(type, props, key) {\n  if (!hasOwn.call(props, 'css')) {\n    return ReactJSXRuntime.jsxs(type, props, key);\n  }\n\n  return ReactJSXRuntime.jsxs(Emotion, createEmotionProps(type, props), key);\n};\n\nexport { Fragment, jsx, jsxs };\n"],"names":["count","node","sum","children","i","length","value","hierarchy","data","child","childs","n","root","Node","valued","nodes","defaultChildren","pop","Array","push","parent","depth","eachBefore","computeHeight","d","copyData","height","this","x0","Math","round","y0","x1","y1","dx","dy","padding","partition","k","treemapDice","positionNode","roundNode","x","arguments","size","prototype","constructor","eachAfter","each","callback","current","next","reverse","sort","compare","path","end","start","ancestor","a","b","aNodes","ancestors","bNodes","c","leastCommonAncestor","splice","descendants","leaves","links","source","target","copy","type","global","Object","freeSelf","self","freeGlobal","Function","Date","now","reWhitespace","string","index","test","charAt","reTrimStart","slice","trimmedEndIndex","replace","Symbol","objectProto","hasOwnProperty","nativeObjectToString","toString","symToStringTag","toStringTag","undefined","isOwn","call","tag","unmasked","e","result","getRawTag","objectToString","isObjectLike","baseGetTag","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","isSymbol","isObject","other","valueOf","baseTrim","isBinary","nativeMax","max","nativeMin","min","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","setTimeout","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","clearTimeout","toNumber","cancel","flush","_arrayLikeToArray","r","_createClass","t","defineProperty","writable","_slicedToArray","isArray","_arrayWithHoles","l","iterator","u","f","o","done","return","_iterableToArrayLimit","name","from","_unsupportedIterableToArray","_nonIterableRest","Prop","_ref","_ref$default","defaultVal","_ref$triggerUpdate","triggerUpdate","_ref$onChange","onChange","newVal","state","_classCallCheck","_ref2","_ref2$stateInit","stateInit","_ref2$props","props","rawProps","_ref2$methods","methods","_ref2$aliases","aliases","_ref2$init","init","initFn","_ref2$update","update","updateFn","keys","map","propName","KapsuleComp","_len","_key","classMode","nodeElement","shift","_args$","assign","initialised","changedProps","comp","initStatic","digest","debounce","forEach","prop","_ref3","_ref3$triggerUpdate","redigest","_ref3$onChange","_ref3$defaultVal","_","curVal","val","getSetProp","methodName","_methods$methodName","_len2","_key2","concat","entries","_ref4","_ref5","alias","resetProps","_rerender","s","p","obj","v","y","w","g","parentNode","removeChild","m","key","ref","__k","__","__b","__e","__c","__v","__i","__u","vnode","context","S","C","base","M","__d","$","__r","debounceRendering","__P","O","__n","namespaceURI","z","I","h","P","q","A","nextSibling","String","L","B","contains","insertBefore","nodeType","T","setProperty","j","style","cssText","toLowerCase","addEventListener","removeEventListener","removeAttribute","setAttribute","F","event","H","render","contextType","__E","D","sub","__h","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","some","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","N","then","indexOf","V","diffed","localName","document","createTextNode","createElementNS","is","__m","childNodes","attributes","__html","innerHTML","content","unmount","componentWillUnmount","E","documentElement","defaultProps","firstChild","J","_defineProperty","toPrimitive","Number","_toPrimitive","_toPropertyKey","enumerable","configurable","ownKeys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","_typeof","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","bind","resolve","_reactElement2VNode","el","_res$props","res","cloneElement","getOwnPropertyDescriptors","defineProperties","_objectSpread2","css","insertAt","head","getElementsByTagName","createElement","appendChild","styleSheet","styleInject","Kapsule","offsetX","offsetY","domNode","_ref$style","isD3Selection","select","tooltipEl","append","attr","evSuffix","random","mouseInside","on","ev","mousePos","pointer","canvasWidth","offsetWidth","canvasHeight","offsetHeight","translate","abs","join","jsx","domEl","HTMLElement","text","html","isValidElement","isReactRenderable","console","warn","render$1","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","measureTextWidth","fontSize","_ref$strokeWidth","strokeWidth","_ref$fontFamily","fontFamily","ctx","OffscreenCanvas","getContext","font","measureText","width","TEXT_FONTSIZE","sunburst","window","innerWidth","innerHeight","needsReparse","label","labelOrientation","color","strokeColor","nodeClassName","minSliceAngle","maxLevels","excludeRoot","centerRadius","radiusScaleExponent","showLabels","handleNonFittingLabel","tooltipContent","tooltipTitle","showTooltip","focusOnNode","moveStackToFront","elD","svg","selectAll","__dataNode","onClick","onRightClick","onHover","transitionDuration","_parseData","hierData","accessorFn","yScale","scaleLinear","domain","id","layoutData","_this","chartId","radiusScale","scalePow","angleScale","range","PI","clamp","arc","startAngle","endAngle","innerRadius","outerRadius","canvas","tooltip","Tooltip","preventDefault","_this2","maxRadius","exponent","focusD","nameOf","colorOf","strokeColorOf","nodeClassNameOf","transition$1","transition","duration","levelYDelta","maxY","Infinity","tween","xd","interpolate","yd","oldSlice","exit","remove","attrTween","middleArcLine","newSlice","enter","stopPropagation","stack","curNode","unshift","getNodeStack","angularLabel","radialLabel","allSlices","merge","split","str","trim","computeAngularLabels","includes","computeRadialLabels","getLabelMeta","fits","isRadial","angle","orientation","radialTextFits","angularTextFits","getAvailableLabelAngularSpace","getAvailableLabelRadialSpace","autoPickLabelOrientation","availableSpace","newLabel","labelMetaCache","Map","styleTween","set","_labelMetaCache$get","get","_labelMetaCache$get2","textTween","middleAngle","cos","sin","rot","radialTextTransform","halfPi","angles","invertDirection","path$1","deltaAngle","ReactJSXRuntime","hasOwn","Emotion","createEmotionProps","jsxs"],"sourceRoot":""}